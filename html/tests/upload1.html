<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title> dojo upload v1 </title>

<style type="text/css">

	/* ../dojo.1.2.2 style */
	@import "../dojo.1.2.2/../dojo.1.2.2/resources/../dojo.1.2.2.css";

	/* SORIA style */
	@import "../dojo.1.2.2/dijit/themes/soria/soria.css";

	/* TESTS style */
	@import "../dojo.1.2.2/dijit/tests/css/dijitTests.css";

	/* FILE INPUT */
	@import "../dojo.1.2.2/dojox/widget/FileInput/FileInput.css"; 

</style>

<script type="text/javascript" src="../dojo.1.2.2/dojo/dojo.js"
	djConfig="isDebug: true, parseOnLoad: true, useCommentedJson: true"></script>

<script type="text/javascript" src="../dojo.1.2.2/dijit/nls/en-us.js"></script>
<script type="text/javascript" src="../dojo.1.2.2/dijit/nls/common.js"></script>

<script type="text/javascript" src="builds/plugins/dojo/plugins.js"></script>

	<script type="text/javascript">
		dojo.require("dojox.form.FileUploader");
		dojo.require("dijit.form.Button"); 
		dojo.require("dojo.parser");
		
		handleChange = function(value){
			console.log("The file chosen was: ", value);
		}
		onComplete = function(data){
			console.log("Upload data:", data);
		}
		dojo.addOnLoad(function(){

			var uploadUrl = "../dojo.1.2.2/dojox/form/resources/RecieveFile.php";

			if(dijit.byId("btn0")){
				var f0 = new dojox.form.FileInputOverlay({button:dijit.byId("btn0"), uploadUrl:uploadUrl, uploadOnChange:true});

				dojo.connect(f0, "onChange", "handleChange");
				dojo.connect(f0, "onComplete", "onComplete");
			}
		});
		

	</script>
    <style>
		#wrapper{
			width:100%;
		}
		.rgt{
			float:right;
		}
		.lft{
			float:left;
			margin-left:30px;
			margin-top:30px;
			padding-left:20px;
			padding-top:20px;
			position:relative;
			left:20px;
			top:15px;
		}
		#btn1{
			width:250px;
			height:22px;
		}
		#btn2{
			width:120px;
			height:60px;		
		}
		.zero{
			display:block;
			margin-left:30px;
			margin-top:30px;
			padding-left:20px;
			padding-top:20px;
		}
		.myDiv{
			width:150px;
			height:50px;
			border:#999999 1px solid;
			background:#00FFFF;
		}
		.browse{
		width:100px;
		height:25px;
		}
		#uploadBtn, #btn4{
		width:100px;
		height:20px;
		margin-top:-2px;
		}
		.uploadBtn{
		float:left;
		}
		#fileToUpload{
		width:200px;
		height:25px;
		border:#CCCCCC 1px solid;
		float:left;
		}
		.uploadedFilesLabel{
		margin-top:35px;
		}
		#uploadedFiles{
		width:500px;
		height:25px;
		border:#CCCC00 1px solid;
		background:#FFFFCC;
		}
	</style>

</head>
<body class="tundra">
<h1>dojox.form.FileUploader / FileInputOverlay</h1>

<div class="uploadedFilesLabel">Uploaded Files:</div>
<div id="uploadedFiles"></div>

<div id="wrapper">
	<div id="btn0" class="zero" onClick="console.log('click.')"dojoType="dijit.form.Button">Btn 0</div>

</body>
</html>
