#!/bin/bash -l
SHELL=/bin/bash
PATH=/opt/gridengine/bin/lx26-amd64:/sbin:/bin:/usr/sbin:/usr/bin
AUTO_LOG=/home/pcruz/src/saffrondev/shell/logs
SAFFRON=/home/pcruz/src/saffrondev

# DO NOT EDIT THIS FILE - edit the master and reinstall. Master=/illumina/scripts/WGS/tools/automation/automation.cron
# MIN HOUR DOM MON DOW CMD
#* * * * * env > $AUTO_LOG/test.txt; # For testing!

#see config.yaml for locations being tracked

$SAFFRON/bin/import_flowcell.pl -now

$SAFFRON/bin/monitor_flowcells.pl -now

$SAFFRON/bin/import_flowcell_run_report.pl -now

$SAFFRON/bin/import_flowcell_trim_report.pl -now

$SAFFRON/bin/monitor_lanes.pl -now
  
## up to here it is all agnostic to project sample
## these are examples...   
$SAFFRON/bin/initiate_project.pl -proj project_demo1 -now

$SAFFRON/bin/initiate_project.pl -proj project_demo2 -now
 
$SAFFRON/bin/initiate_project.pl -proj project_demo3 -now


$SAFFRON/bin/import_workflow_config.pl -work workflow_configs/casava_bcl_to_gvcf.yaml -now


## get the workflows queue'd    
## done only once really

 
$SAFFRON/bin/import_simple_manifest.pl -sam master_manifest_example.txt -now

$SAFFRON/bin/import_samplesheet.pl -now


#workflow related examples
# default workflow from manifest
 
$SAFFRON/bin/initiate_workflow_queue.pl -now -exclude_gt

# adding the same workflow to a sample 
#$SAFFRON/bin/queue_workflow.pl -workflow_name  casava_bcl_to_gvcf -workflow_version v1 -sample mickey_mouse  -now
 
$SAFFRON/bin/launch_workflow_queue.pl -now  -limit 1

$SAFFRON/bin/monitor_workflow_queue.pl -now

$SAFFRON/bin/import_workflow_queue_report.pl -now
