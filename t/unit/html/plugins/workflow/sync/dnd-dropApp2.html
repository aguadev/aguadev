<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
		"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

<title>Agua 0.6</title>

<style type="text/css">

	/* DOJO STYLES */
	@import "../../../dojo/dojo/resources/dojo.css";

	/* THEMES */
	@import "../../../dojo/dijit/themes/dijit.css";
	@import "../../../dojo/dijit/themes/soria/soria.css";
	@import "../../../dojo/dijit/themes/tundra/tundra.css";

</style>

<link rel="stylesheet" href="plugins/core/css/toolbar.css">
	
<!-- LOAD DOJO -->

<script type="text/javascript" src="../../../dojo/dojo/dojo.js"
	djConfig="parseOnLoad: true, isDebug: true"></script>	

<script type="text/javascript" src="../../../builds/006/dojo/dojo/dojo.js.uncompressed.js"
	djConfig="isDebug: false, parseOnLoad: true, useCommentedJson: true, locale: 'ja-jp'"></script>

<!--<script type="text/javascript" src="builds/006/dojo/dojo/dojo.js"
	djConfig="isDebug: false, parseOnLoad: true, useCommentedJson: true, locale: 'ja-jp'"></script>
-->
<!-- LOAD LAYER FILES -->
<script type="text/javascript" src="../../../builds/006/dojo/agua.js.uncompressed.js"></script>
<!--<script type="text/javascript" src="builds/006/dojo/agua.js"></script>-->


<!-- TO AVOID PROBLEMS WHEN LOADING -->
<script type="text/javascript" src="../../../dojo/dijit/nls/en-us.js"></script>
<script type="text/javascript" src="../../../dojo/dijit/nls/common.js"></script>
<!--http://bugs.dojotoolkit.org/ticket/7280-->
<!--Because FF3 is so fast it exposes a load ordering issue surrounding the nls files.-->
<!--If you inspect in firebug, the en-us.js file is included AFTER the built layer file.-->
<!--If I explicitly do this in the head it fixes this. The bundles need to be loaded-->
<!--BEFORE the custom dojo / dijit built file. If I refresh the page, this error goes away,-->
<!--it is only when the cache is cleared and it is pullin these files down for the first time.-->


<script type="text/javascript">

	// SET CGI AND HTML URLS (RELATIVE TO dojo.js)
	var cgiUrl = "../../../../../cgi-bin/agua/";
	var htmlUrl = "../../../../../agua/";

	// ***** COMMENT THIS OUT WHEN USING A BUILD !! ******
	// REGISTER module path FOR PLUGINS
	dojo.registerModulePath("plugins","../../../../../plugins");	

	dojo.require("dojox.robot.recorder")


	// GLOBAL Agua VARIABLE
	var Agua;
	dojo.addOnLoad(function(){

		console.log("agua.html    BEFORE require plugins.core.Agua");
		dojo.require("plugins.core.Agua");
		console.log("agua.html    AFTER  require plugins.core.Agua");

		// CREATE GLOBAL AGUA OBJECT		
		console.log("agua.html    BEFORE Agua = new plugins.core.Agua()");
		Agua = new plugins.core.Agua( {
			cgiUrl : cgiUrl,
			htmlUrl : htmlUrl
		});
		console.log("agua.html    AFTER new plugins.core.Agua");
		//console.log("agua.html    Agua: " + Agua);


		var pluginsList = [ "plugins.workflow.Controller" ];
		console.log("agua.html    BEFORE Agua.loadPlugins");
		Agua.loadPlugins(pluginsList);
		console.log("agua.html    AFTER Agua.loadPlugins");
		


doh.register('dojox.robot.AutoGeneratedTestGroup',{
     name: 'autotest0',
     timeout: 12950,
     runTest: function(){
          var d = new doh.Deferred();
          doh.robot.mouseMove(4, 54, 456, 2527, true);
          doh.robot.mouseMoveAt(function(){ return document.getElementsByTagName('SPAN')[18]; }, 120, 100, 2, 6);
          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
          doh.robot.mouseMove(52, 65, 771, 1227, true);
          doh.robot.mouseMoveAt('dojox_layout_ExpandoPane_1', 147, 100, 0, 6);
          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
          doh.robot.mouseMove(59, 68, 886, 611, true);
          doh.robot.mouseMoveAt(function(){ return document.getElementsByTagName('SPAN')[26]; }, 122, 100, 6, 8);
          doh.robot.mouseClick({left:true, middle:false, right:false}, 1);
          doh.robot.mouseMove(234, 242, 1502, 124, true);
          doh.robot.mouseMove(428, 290, 1140, 177, true);
          doh.robot.sequence(function(){
               if( 1 ){
				console.log("Running test");
                    d.callback(true);
               }else{
                    d.errback(new Error('We got a failure'));
               }
          }, 1000);
          return d;
     }
});



	});
	
</script>

</head>
<body class="agua tundra">

	<div id="attachPoint"></div>

</body>
</html>
