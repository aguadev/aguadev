
h3. APPLICATION

checkBalancers

h3. PURPOSE

MONITOR THE LOAD BALANCERS RUNNING ON EACH CLUSTER (I.E., SGE CELL)

AND RESTART THEM IF THEY BECOME INACTIVE (E.G., DUE TO A RECURRENT

ERROR IN STARCLUSTER WHEN PARSING XML OUTPUT AND/OR XML ERROR MESSAGES

CAUSED BY A BUG IN SGE)

NOTES

1. CRON JOB RUNS THIS SCRIPT EVERY MINUTE


 
 
 
 
 /agua/0.6/bin/scripts/checkBalancers.pl --logfile /tmp/checkbalancers.out

2. CHECKS clusterstatus DATABASE TABLE FOR RUNNING CLUSTERS

3. FOR RUNNING CLUSTERS, CHECKS IF LOCK FILE IS OLDER THAN 1 MINUTE

4. IF LOCK FILE STALE, RESTART bal FOR THE CLUSTER:

-   KILL PREVIOUS PROCESS USING PID IN PID FILE

-   START bal: STORE PID IN PID FILE, CONCAT OUTPUT TO OUTPUT FILE

h3. USAGE

{code}
./checkBalancers.pl [--help]
 --help      :   Print help info
{code}

h3. EXAMPLES

checkBalancers.pl


